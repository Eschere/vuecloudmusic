{"version":3,"sources":["webpack:///src/components/common/detailFramework2.vue","webpack:///./src/components/common/detailFramework2.vue?866c","webpack:///./src/components/common/detailFramework2.vue","webpack:///src/components/songSheet/songList.vue","webpack:///./src/components/songSheet/songList.vue?f75e","webpack:///./src/components/songSheet/songList.vue"],"names":["detailFramework2","props","data","opacity","hOpacity","realTitle","methods","extends_default","Object","vuex_esm","back","this","$router","go","play","index","toPlayer","_this","currentSong","songmid","songlist","playlist","length","$nextTick","push","savePlaylist","requestSongInfo","playall","_this2","playOrder","showDetail","computed","mounted","_this3","title","$refs","scroll","addEventListener","e","max","list","offsetTop","target","scrollTop","bannerTitle","common_detailFramework2","render","_vm","_h","$createElement","_c","_self","staticClass","style","paddingBottom","backgroundImage","cover","_v","attrs","tag","on","tap","key","dissid","ref","_s","subTitle","_e","_m","class","banner-cover","coverBg","src","listenNum","Math","floor","headimg","person","bannerTime","commentNum","shareNum","$event","songNum","favNum","_l","song","songname","singername","staticRenderFns","components_common_detailFramework2","__webpack_require__","normalizeComponent","ssrContext","songList","components","detailPage2","cdinfo","desc","ifpicurl","songnum","commenttotal","initData","jsonp_default","currentServer","url","currentList","name","random","err","console","log","batch_commenttotal","totalnum","cdlist","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","_ref","value","albummid","albumname","_ref$singer$","slicedToArray_default","singer","singermid","mid","return","created","to","from","replace","activated","songSheet_songList","sub-title","imgurl","cover-bg","listen-num","visitnum","banner-title","dissname","headurl","creator","comment-num","share-num","song-num","fav-num","songList_Component","songList_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.207dc9e03e0f4ccf49a1.js","sourcesContent":["<template>\r\n<div\r\n  class=\"detail-page\"\r\n  :style=\"{paddingBottom: playlist.length ? '50px' : ''}\"\r\n>\r\n  <div class=\"page-bg\"\r\n    :style=\"{backgroundImage: 'url('+cover+')'}\"\r\n  >\r\n  </div>\r\n\r\n    <head class=\"detail-head\">\r\n      <div class=\"head-bg\"\r\n        :style=\"{backgroundImage: 'url('+cover+')',opacity: opacity}\"\r\n      >\r\n      </div>\r\n      <v-touch\r\n        tag=\"span\"\r\n        class=\"back\"\r\n        @tap=\"back\"\r\n      >\r\n      </v-touch>\r\n      <div class=\"title-area\">\r\n        <p class=\"title\" ref=\"title\" :key=\"'detailtitle'+dissid\" >{{realTitle}}</p>\r\n        <p class=\"sub-title\" v-if=\"subTitle\">{{subTitle}}</p>\r\n      </div>\r\n      <div class=\"icon-area\">\r\n        <span class=\"search-icon\"></span>\r\n      </div>\r\n    </head>\r\n\r\n  <div ref=\"scroll\" class=\"detail-main\">\r\n    <div class=\"main-content\">\r\n      <div class=\"banner\" :style=\"{opacity:hOpacity}\">\r\n        <div\r\n          :class=\"{'banner-cover': coverBg}\"\r\n        >\r\n          <div class=\"banner-image\">\r\n            <img :src=\"cover\">\r\n            <span class=\"listen-badge\" v-if=\"listenNum\">{{listenNum >= 100000 ? Math.floor(listenNum/10000)+'万':listenNum}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"banner-text\">\r\n          <h4 class=\"banner-title\">{{bannerTitle}}</h4>\r\n          <div class=\"banner-person\">\r\n            <img v-if=\"headimg\" :src=\"headimg\">\r\n            <span>{{person}}</span>\r\n          </div>\r\n          <p class=\"banner-time\">{{bannerTime}}</p>\r\n        </div>\r\n      </div>\r\n      <!-- 操作按钮 -->\r\n      <div class=\"operation-icon\" :style=\"{opacity:hOpacity}\">\r\n        <span class=\"op-i\">\r\n          <i class=\"iconfont icon-comment\"></i>\r\n          <span>{{commentNum}}</span>\r\n        </span>\r\n        <span class=\"op-i\">\r\n          <i class=\"iconfont icon-share\"></i>\r\n          <span>{{shareNum}}</span>\r\n        </span>\r\n        <span class=\"op-i\">\r\n          <i class=\"iconfont icon-download\"></i>\r\n          <span>下载</span>\r\n        </span>\r\n        <span class=\"op-i\">\r\n          <i class=\"iconfont icon-mutiple-check\"></i>\r\n          <span>多选</span>\r\n        </span>\r\n      </div>\r\n      <!-- 歌曲列表 -->\r\n      <div class=\"song-list\" ref=\"list\">\r\n        <div class=\"list-head\">\r\n          <v-touch\r\n            class=\"play-all\"\r\n            @tap=\"playall()\"\r\n          >\r\n            <span class=\"play-icon iconfont icon-play-fill\"></span>\r\n            <span>播放全部<small>(共{{songNum}}首)</small></span>\r\n          </v-touch>\r\n          <div class=\"favorite\">\r\n            <span>+&ensp;收藏({{favNum}})</span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 歌曲 -->\r\n        <div\r\n          class=\"song-item\"\r\n          v-for=\"(song,index) in songlist\"\r\n          :key=\"'sssongitem'+song.songmid\"\r\n        >\r\n          <v-touch\r\n            class=\"song-detail\"\r\n            @tap=\"play(index)\"\r\n          >\r\n            <span class=\"song-playing-index iconfont icon-volume\" v-if=\"currentSong.songmid === song.songmid\"></span>\r\n            <span class=\"song-index\" v-else>{{index+1}}</span>\r\n            <div class=\"center\">\r\n              <p class=\"song-name\">{{song.songname}}</p>\r\n              <p class=\"singer-name\">{{song.singername}}</p>\r\n            </div>\r\n          </v-touch>\r\n          <v-touch\r\n            class=\"song-operation iconfont icon-more-item\"\r\n            @tap=\"showDetail(song.songmid)\"\r\n          ></v-touch>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {mapState, mapMutations, mapActions, mapGetters} from 'vuex'\r\n\r\nexport default {\r\n  props: ['title', 'subTitle', 'cover', 'person', 'bannerTitle', 'coverBg', 'headimg', 'bannerTime', 'commentNum', 'shareNum', 'songNum', 'favNum', 'listenNum', 'songlist', 'dissid'],\r\n  data () {\r\n    return {\r\n      opacity: 0,\r\n      hOpacity: 1,\r\n      realTitle: ''\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('player', ['savePlaylist', 'saveCurrentSongInfo']),\r\n    ...mapActions('player', ['requestSongInfo']),\r\n    back () {\r\n      this.$router.go(-1)\r\n    },\r\n    play (index, toPlayer) {\r\n      if (this.currentSong.songmid === this.songlist[index].songmid) {\r\n        this.$router.push('/player')\r\n        return\r\n      }\r\n\r\n      if (!this.playlist.length) {\r\n        this.$nextTick(() => {\r\n          this.$router.push('/player')\r\n        })\r\n      }\r\n      // 保存播放列表到本地\r\n      this.savePlaylist(this.songlist)\r\n\r\n      // 在列表保存到store后进行请求数据及播放操作\r\n      this.$nextTick(() => {\r\n        this.requestSongInfo({index})\r\n      })\r\n    },\r\n    playall () {\r\n      this.savePlaylist(this.songlist)\r\n      this.$nextTick(() => {\r\n        this.requestSongInfo({index: this.playOrder[0]})\r\n        this.$router.push('/player')\r\n      })\r\n    },\r\n    showDetail () {\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('player', ['guid', 'currentSong', 'playlist']),\r\n    ...mapGetters('player', ['playOrder']),\r\n    ...mapState('config', ['server'])\r\n  },\r\n  mounted () {\r\n    // 滚动相关事件\r\n    this.realTitle = this.title\r\n    this.$refs.scroll.addEventListener('scroll', (e) => {\r\n      let max = this.$refs.list.offsetTop\r\n      let opacity = e.target.scrollTop / max\r\n      if (opacity > 1) {\r\n        opacity = 1\r\n        this.realTitle = this.bannerTitle\r\n      } else {\r\n        this.realTitle = this.title\r\n      }\r\n      let hOpacity = 1 - opacity\r\n      if (hOpacity < 0.5) {\r\n        hOpacity = 0.5\r\n      }\r\n      this.opacity = opacity\r\n      this.hOpacity = hOpacity\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/style/scss.config.scss\";\r\n.detail-page {\r\n  box-sizing: border-box;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  position: relative;\r\n  .page-bg{\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    filter: blur(30px) brightness(90%);\r\n    transform: scale(1.3);\r\n  }\r\n  .banner {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    padding: 5vw;\r\n    .banner-cover {\r\n      width: (229 / 192 * 35) + vw;\r\n      height: 35vw;\r\n      background: url('~@/components/common/img/cd-cover.png') no-repeat;\r\n      background-size: auto 100%;\r\n    }\r\n    .banner-image {\r\n      width: 35vw;\r\n      height: 35vw;\r\n      position: relative;\r\n      .listen-badge {\r\n        background: url('~@/components/common/img/badge-headset.png') no-repeat left/auto 100%;\r\n        font-size: 12px;\r\n        line-height: 12px;\r\n        position: absolute;\r\n        top: 5px;\r\n        right: 5px;\r\n        z-index: 1;\r\n        text-indent: 15px;\r\n        color: white;\r\n      }\r\n      img {\r\n        border-radius: 5px;\r\n        width: 100%;\r\n      }\r\n    }\r\n    .banner-text {\r\n      width: 45vw;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      flex-direction: column;\r\n      .banner-title {\r\n        color: white;\r\n        font-weight: 600;\r\n      }\r\n      .banner-person,\r\n      .banner-time {\r\n        color: #eee;\r\n        font-size: 13px;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n      }\r\n      .banner-person {\r\n        height: 25px;\r\n        display: flex;\r\n        align-items: center;\r\n        img {\r\n          height: 100%;\r\n          border-radius: 50%;\r\n          margin-right: 10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .detail-main {\r\n    position: relative;\r\n    flex: 1;\r\n    height: 100%;\r\n    overflow: auto;\r\n    .main-content {\r\n      margin-top: 50px;\r\n    }\r\n    .operation-icon {\r\n      display: flex;\r\n      margin: 3vw;\r\n      justify-content: space-around;\r\n      .op-i {\r\n        color: white;\r\n        font-size: 12px;\r\n        width: 25px;\r\n        height: 43px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif,'微软雅黑';\r\n        .iconfont {\r\n          font-size: 20px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .song-list {\r\n    border-top-left-radius: 10px;\r\n    border-top-right-radius: 10px;\r\n    background-color: white;\r\n    overflow: hidden;\r\n    .list-head {\r\n      font-size: 16px;\r\n      height: 45px;\r\n      display: flex;\r\n      align-items: center;\r\n      border-bottom: 0.1px solid #eee;\r\n      .play-all{\r\n        height: 100%;\r\n        flex: 1;\r\n        padding-left: 15px;\r\n        display: flex;\r\n        align-items: center;\r\n        small {\r\n          color: #999;\r\n        }\r\n        .play-icon {\r\n          margin-right: 15px;\r\n          font-size: 23px;\r\n        }\r\n      }\r\n      .favorite {\r\n        color: #eee;\r\n        height: 100%;\r\n        line-height: 45px;\r\n        padding: 0 10px;\r\n        background-color: $theme-color;\r\n      }\r\n    }\r\n    .song-item {\r\n      height: 50px;\r\n      border-bottom: 0.1px solid #eee;\r\n      padding: 0 15px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      .song-detail {\r\n        flex: 1;\r\n        display: flex;\r\n        align-items: center;\r\n        overflow: hidden;\r\n        padding-right: 5px;\r\n      }\r\n      .song-index {\r\n        width: 20px;\r\n        height: 100%;\r\n        line-height: 50px;\r\n        padding-right: 15px;\r\n        text-align: center;\r\n        color: #999;\r\n      }\r\n      .song-playing-index {\r\n        width: 20px;\r\n        padding-right: 15px;\r\n        font-size: 15px;\r\n        text-align: center;\r\n        color: $theme-color;\r\n      }\r\n      .center {\r\n        flex: 1;\r\n        overflow: hidden;\r\n      }\r\n      @mixin song-text {\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n      }\r\n      .song-name {\r\n        @include song-text();\r\n        font-size: 15px;\r\n        margin-bottom: 5px;\r\n      }\r\n      .singer-name {\r\n        @include song-text();\r\n        font-size: 12px;\r\n        color: #aaa;\r\n      }\r\n      .song-operation {\r\n        font-size: 16px;\r\n        color: #ccc;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.detail-head {\r\n    position: fixed;\r\n    top: 0;\r\n    height: 50px;\r\n    width: 100vw;\r\n    display: flex;\r\n    align-items: center;\r\n    display: flex;\r\n    z-index: 10;\r\n    overflow: hidden;\r\n    .head-bg {\r\n      @extend .page-bg;\r\n    }\r\n    .back {\r\n      position: relative;\r\n      width: 25 / $base + rem;\r\n      height: 25 / $base + rem;\r\n      background: url('~@/components/common/img/ow.png') no-repeat center / 100%;\r\n      margin: 0 20px;\r\n    }\r\n    .title-area {\r\n      position: relative;\r\n      flex: 1;\r\n      overflow: hidden;\r\n      .title {\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n        width: 100%;\r\n        color: white;\r\n        font-weight: 500;\r\n        font-size: 18 / $base + rem;\r\n      }\r\n      .sub-title {\r\n        width: 100%;\r\n        color: #ccc;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        font-size: 12px;\r\n        font-size: 10px;\r\n      }\r\n    }\r\n    .icon-area {\r\n      position: relative;\r\n      .search-icon {\r\n        display: inline-block;\r\n        width: 25 / $base + rem;\r\n        height: 25 / $base + rem;\r\n        background: url('~@/components/common/img/icon-search.png') no-repeat center / 100%;\r\n        margin: 0 20px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/detailFramework2.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-page\",style:({paddingBottom: _vm.playlist.length ? '50px' : ''})},[_c('div',{staticClass:\"page-bg\",style:({backgroundImage: 'url('+_vm.cover+')'})}),_vm._v(\" \"),_c('head',{staticClass:\"detail-head\"},[_c('div',{staticClass:\"head-bg\",style:({backgroundImage: 'url('+_vm.cover+')',opacity: _vm.opacity})}),_vm._v(\" \"),_c('v-touch',{staticClass:\"back\",attrs:{\"tag\":\"span\"},on:{\"tap\":_vm.back}}),_vm._v(\" \"),_c('div',{staticClass:\"title-area\"},[_c('p',{key:'detailtitle'+_vm.dissid,ref:\"title\",staticClass:\"title\"},[_vm._v(_vm._s(_vm.realTitle))]),_vm._v(\" \"),(_vm.subTitle)?_c('p',{staticClass:\"sub-title\"},[_vm._v(_vm._s(_vm.subTitle))]):_vm._e()]),_vm._v(\" \"),_vm._m(0)],1),_vm._v(\" \"),_c('div',{ref:\"scroll\",staticClass:\"detail-main\"},[_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"banner\",style:({opacity:_vm.hOpacity})},[_c('div',{class:{'banner-cover': _vm.coverBg}},[_c('div',{staticClass:\"banner-image\"},[_c('img',{attrs:{\"src\":_vm.cover}}),_vm._v(\" \"),(_vm.listenNum)?_c('span',{staticClass:\"listen-badge\"},[_vm._v(_vm._s(_vm.listenNum >= 100000 ? Math.floor(_vm.listenNum/10000)+'万':_vm.listenNum))]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"banner-text\"},[_c('h4',{staticClass:\"banner-title\"},[_vm._v(_vm._s(_vm.bannerTitle))]),_vm._v(\" \"),_c('div',{staticClass:\"banner-person\"},[(_vm.headimg)?_c('img',{attrs:{\"src\":_vm.headimg}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.person))])]),_vm._v(\" \"),_c('p',{staticClass:\"banner-time\"},[_vm._v(_vm._s(_vm.bannerTime))])])]),_vm._v(\" \"),_c('div',{staticClass:\"operation-icon\",style:({opacity:_vm.hOpacity})},[_c('span',{staticClass:\"op-i\"},[_c('i',{staticClass:\"iconfont icon-comment\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.commentNum))])]),_vm._v(\" \"),_c('span',{staticClass:\"op-i\"},[_c('i',{staticClass:\"iconfont icon-share\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.shareNum))])]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2)]),_vm._v(\" \"),_c('div',{ref:\"list\",staticClass:\"song-list\"},[_c('div',{staticClass:\"list-head\"},[_c('v-touch',{staticClass:\"play-all\",on:{\"tap\":function($event){_vm.playall()}}},[_c('span',{staticClass:\"play-icon iconfont icon-play-fill\"}),_vm._v(\" \"),_c('span',[_vm._v(\"播放全部\"),_c('small',[_vm._v(\"(共\"+_vm._s(_vm.songNum)+\"首)\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"favorite\"},[_c('span',[_vm._v(\"+ 收藏(\"+_vm._s(_vm.favNum)+\")\")])])],1),_vm._v(\" \"),_vm._l((_vm.songlist),function(song,index){return _c('div',{key:'sssongitem'+song.songmid,staticClass:\"song-item\"},[_c('v-touch',{staticClass:\"song-detail\",on:{\"tap\":function($event){_vm.play(index)}}},[(_vm.currentSong.songmid === song.songmid)?_c('span',{staticClass:\"song-playing-index iconfont icon-volume\"}):_c('span',{staticClass:\"song-index\"},[_vm._v(_vm._s(index+1))]),_vm._v(\" \"),_c('div',{staticClass:\"center\"},[_c('p',{staticClass:\"song-name\"},[_vm._v(_vm._s(song.songname))]),_vm._v(\" \"),_c('p',{staticClass:\"singer-name\"},[_vm._v(_vm._s(song.singername))])])]),_vm._v(\" \"),_c('v-touch',{staticClass:\"song-operation iconfont icon-more-item\",on:{\"tap\":function($event){_vm.showDetail(song.songmid)}}})],1)})],2)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon-area\"},[_c('span',{staticClass:\"search-icon\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"op-i\"},[_c('i',{staticClass:\"iconfont icon-download\"}),_vm._v(\" \"),_c('span',[_vm._v(\"下载\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"op-i\"},[_c('i',{staticClass:\"iconfont icon-mutiple-check\"}),_vm._v(\" \"),_c('span',[_vm._v(\"多选\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bd313f5a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/detailFramework2.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bd313f5a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./detailFramework2.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detailFramework2.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detailFramework2.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bd313f5a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./detailFramework2.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bd313f5a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/detailFramework2.vue\n// module id = null\n// module chunks = ","<template>\r\n  <detail-page2\r\n    :title=\"'歌单'\"\r\n    :sub-title=\"null\"\r\n    :cover=\"currentList.imgurl\"\r\n    :cover-bg=\"false\"\r\n    :listen-num=\"cdinfo.visitnum\"\r\n    :banner-title=\"currentList.dissname\"\r\n    :headimg='cdinfo.headurl'\r\n    :person=\"currentList.creator.name\"\r\n    :comment-num=\"commenttotal\"\r\n    share-num=\"分享\"\r\n    :song-num=\"cdinfo.songnum\"\r\n    :fav-num=\"favNum\"\r\n    :songlist=\"songlist\"\r\n    :dissid=\"currentList.dissid\"\r\n    v-if=\"currentList\"\r\n  />\r\n</template>\r\n<script>\r\nimport detailPage2 from '#/common/detailFramework2'\r\nimport {mapState, mapGetters} from 'vuex'\r\nimport jsonp from 'jsonp'\r\n\r\nexport default {\r\n  components: {\r\n    detailPage2\r\n  },\r\n  data () {\r\n    return {\r\n      cdinfo: {\r\n        desc: '',\r\n        ifpicurl: '',\r\n        songnum: 0\r\n      },\r\n      commenttotal: '评论',\r\n      favNum: 0,\r\n      songlist: []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('songSheet', ['currentList']),\r\n    ...mapGetters('config', ['currentServer'])\r\n  },\r\n  methods: {\r\n    initData () {\r\n      // 获取评论数量\r\n      jsonp(`${this.currentServer.url}/playlistcommentnum?topic=${this.currentList.dissid}`, {\r\n        name: 'jsoncallback9210216379563' + Math.floor((Math.random() * 899) + 100)\r\n      }, (err, data) => {\r\n        if (err) {\r\n          console.log('Get Commenttotal Failed')\r\n        } else {\r\n          this.commenttotal = data.batch_commenttotal[0].commenttotal\r\n        }\r\n      })\r\n\r\n      // 收藏量\r\n      jsonp(`${this.currentServer.url}/favNum?dissid=${this.currentList.dissid}`, {\r\n        name: 'getFavNum42076' + Math.floor((Math.random() * 89999) + 10000)\r\n      }, (err, data) => {\r\n        if (err) console.log('Get FavNum Failed')\r\n        else this.favNum = data.totalnum\r\n      })\r\n      // cd信息、歌曲列表\r\n      jsonp(`${this.currentServer.url}/playlist?dissid=${this.currentList.dissid}`, {\r\n        name: 'playlistinfoCallback'\r\n      }, (err, data) => {\r\n        if (err) console.log('Get Playlistinfo Failed')\r\n        else {\r\n          this.cdinfo = data.cdlist[0]\r\n\r\n          let songlist = []\r\n          for (let {\r\n            albummid,\r\n            albumname,\r\n            singer: [{mid: singermid, name: singername}],\r\n            songmid,\r\n            songname\r\n          } of data.cdlist[0].songlist) {\r\n            songlist.push({albummid, albumname, singermid, singername, songmid, songname})\r\n          }\r\n          this.songlist = songlist\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created (to, from, next) {\r\n    if (!this.currentList) {\r\n      this.$router.replace('/songSheet')\r\n      return\r\n    }\r\n    this.initData()\r\n  },\r\n  activated () {\r\n    this.initData()\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/songSheet/songList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.currentList)?_c('detail-page2',{attrs:{\"title\":'歌单',\"sub-title\":null,\"cover\":_vm.currentList.imgurl,\"cover-bg\":false,\"listen-num\":_vm.cdinfo.visitnum,\"banner-title\":_vm.currentList.dissname,\"headimg\":_vm.cdinfo.headurl,\"person\":_vm.currentList.creator.name,\"comment-num\":_vm.commenttotal,\"share-num\":\"分享\",\"song-num\":_vm.cdinfo.songnum,\"fav-num\":_vm.favNum,\"songlist\":_vm.songlist,\"dissid\":_vm.currentList.dissid}}):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8f8a1c30\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/songSheet/songList.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./songList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./songList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8f8a1c30\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./songList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/songSheet/songList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}