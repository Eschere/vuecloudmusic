webpackJsonp([4],{"6iRE":function(t,s){},cnWX:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=i("d7EF"),e=i.n(n),a=i("BO1k"),l=i.n(a),o=i("Dd8w"),r=i.n(o),c=i("NYxO"),u={props:["title","subTitle","cover","person","bannerTitle","coverBg","headimg","bannerTime","commentNum","shareNum","songNum","favNum","listenNum","songlist","dissid"],data:function(){return{opacity:0,hOpacity:1,realTitle:""}},methods:r()({},Object(c.d)("player",["savePlaylist","saveCurrentSongInfo"]),Object(c.b)("player",["requestSongInfo"]),{back:function(){this.$router.go(-1)},play:function(t,s){var i=this;this.currentSong.songmid!==this.songlist[t].songmid?(this.playlist.length||this.$router.push("/player"),this.savePlaylist(this.songlist),this.$nextTick(function(){i.requestSongInfo({index:t})})):this.$router.push("/player")},playall:function(){var t=this;this.savePlaylist(this.songlist),this.$nextTick(function(){t.requestSongInfo({index:t.playOrder[0]}),t.$router.push("/player")})},showDetail:function(){}}),computed:r()({},Object(c.e)("player",["guid","currentSong","playlist"]),Object(c.c)("player",["playOrder"]),Object(c.e)("config",["server"])),mounted:function(){var t=this;this.realTitle=this.title,this.$refs.scroll.addEventListener("scroll",function(s){var i=t.$refs.list.offsetTop,n=s.target.scrollTop/i;n>1?(n=1,t.realTitle=t.bannerTitle):t.realTitle=t.title;var e=1-n;e<.5&&(e=.5),t.opacity=n,t.hOpacity=e})}},m={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"detail-page",style:{paddingBottom:t.playlist.length?"50px":""}},[i("div",{staticClass:"page-bg",style:{backgroundImage:"url("+t.cover+")"}}),t._v(" "),i("head",{staticClass:"detail-head"},[i("div",{staticClass:"head-bg",style:{backgroundImage:"url("+t.cover+")",opacity:t.opacity}}),t._v(" "),i("v-touch",{staticClass:"back",attrs:{tag:"span"},on:{tap:t.back}}),t._v(" "),i("div",{staticClass:"title-area"},[i("p",{key:"detailtitle"+t.dissid,ref:"title",staticClass:"title"},[t._v(t._s(t.realTitle))]),t._v(" "),t.subTitle?i("p",{staticClass:"sub-title"},[t._v(t._s(t.subTitle))]):t._e()]),t._v(" "),t._m(0)],1),t._v(" "),i("div",{ref:"scroll",staticClass:"detail-main"},[i("div",{staticClass:"main-content"},[i("div",{staticClass:"banner",style:{opacity:t.hOpacity}},[i("div",{class:{"banner-cover":t.coverBg}},[i("div",{staticClass:"banner-image"},[i("img",{attrs:{src:t.cover}}),t._v(" "),t.listenNum?i("span",{staticClass:"listen-badge"},[t._v(t._s(t.listenNum>=1e5?Math.floor(t.listenNum/1e4)+"万":t.listenNum))]):t._e()])]),t._v(" "),i("div",{staticClass:"banner-text"},[i("h4",{staticClass:"banner-title"},[t._v(t._s(t.bannerTitle))]),t._v(" "),i("div",{staticClass:"banner-person"},[t.headimg?i("img",{attrs:{src:t.headimg}}):t._e(),t._v(" "),i("span",[t._v(t._s(t.person))])]),t._v(" "),i("p",{staticClass:"banner-time"},[t._v(t._s(t.bannerTime))])])]),t._v(" "),i("div",{staticClass:"operation-icon",style:{opacity:t.hOpacity}},[i("span",{staticClass:"op-i"},[i("i",{staticClass:"iconfont icon-comment"}),t._v(" "),i("span",[t._v(t._s(t.commentNum))])]),t._v(" "),i("span",{staticClass:"op-i"},[i("i",{staticClass:"iconfont icon-share"}),t._v(" "),i("span",[t._v(t._s(t.shareNum))])]),t._v(" "),t._m(1),t._v(" "),t._m(2)]),t._v(" "),i("div",{ref:"list",staticClass:"song-list"},[i("div",{staticClass:"list-head"},[i("v-touch",{staticClass:"play-all",on:{tap:function(s){t.playall()}}},[i("span",{staticClass:"play-icon iconfont icon-play-fill"}),t._v(" "),i("span",[t._v("播放全部"),i("small",[t._v("(共"+t._s(t.songNum)+"首)")])])]),t._v(" "),i("div",{staticClass:"favorite"},[i("span",[t._v("+ 收藏("+t._s(t.favNum)+")")])])],1),t._v(" "),t._l(t.songlist,function(s,n){return i("div",{key:"sssongitem"+s.songmid,staticClass:"song-item"},[i("v-touch",{staticClass:"song-detail",on:{tap:function(s){t.play(n)}}},[t.currentSong.songmid===s.songmid?i("span",{staticClass:"song-playing-index iconfont icon-volume"}):i("span",{staticClass:"song-index"},[t._v(t._s(n+1))]),t._v(" "),i("div",{staticClass:"center"},[i("p",{staticClass:"song-name"},[t._v(t._s(s.songname))]),t._v(" "),i("p",{staticClass:"singer-name"},[t._v(t._s(s.singername))])])]),t._v(" "),i("v-touch",{staticClass:"song-operation iconfont icon-more-item",on:{tap:function(i){t.showDetail(s.songmid)}}})],1)})],2)])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"icon-area"},[s("span",{staticClass:"search-icon"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"op-i"},[s("i",{staticClass:"iconfont icon-download"}),this._v(" "),s("span",[this._v("下载")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"op-i"},[s("i",{staticClass:"iconfont icon-mutiple-check"}),this._v(" "),s("span",[this._v("多选")])])}]};var d=i("VU/8")(u,m,!1,function(t){i("6iRE")},"data-v-37773ff6",null).exports,v=i("hU7x"),p=i.n(v),h={components:{detailPage2:d},data:function(){return{cdinfo:{desc:"",ifpicurl:"",songnum:0},commenttotal:"评论",favNum:0,songlist:[]}},computed:r()({},Object(c.e)("songSheet",["currentList"]),Object(c.c)("config",["currentServer"])),methods:{initData:function(){var t=this;p()(this.currentServer.url+"/playlistcommentnum?topic="+this.currentList.dissid,{name:"jsoncallback9210216379563"+Math.floor(899*Math.random()+100)},function(s,i){s?console.log("Get Commenttotal Failed"):t.commenttotal=i.batch_commenttotal[0].commenttotal}),p()(this.currentServer.url+"/favNum?dissid="+this.currentList.dissid,{name:"getFavNum42076"+Math.floor(89999*Math.random()+1e4)},function(s,i){s?console.log("Get FavNum Failed"):t.favNum=i.totalnum}),p()(this.currentServer.url+"/playlist?dissid="+this.currentList.dissid,{name:"playlistinfoCallback"},function(s,i){if(s)console.log("Get Playlistinfo Failed");else{t.cdinfo=i.cdlist[0];var n=[],a=!0,o=!1,r=void 0;try{for(var c,u=l()(i.cdlist[0].songlist);!(a=(c=u.next()).done);a=!0){var m=c.value,d=m.albummid,v=m.albumname,p=e()(m.singer,1)[0],h=p.mid,g=p.name,f=m.songmid,_=m.songname;n.push({albummid:d,albumname:v,singermid:h,singername:g,songmid:f,songname:_})}}catch(s){o=!0,r=s}finally{try{!a&&u.return&&u.return()}finally{if(o)throw r}}t.songlist=n}})}},created:function(t,s,i){this.currentList?this.initData():this.$router.replace("/songSheet")},activated:function(){this.initData()}},g={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return t.currentList?i("detail-page2",{attrs:{title:"歌单","sub-title":null,cover:t.currentList.imgurl,"cover-bg":!1,"listen-num":t.cdinfo.visitnum,"banner-title":t.currentList.dissname,headimg:t.cdinfo.headurl,person:t.currentList.creator.name,"comment-num":t.commenttotal,"share-num":"分享","song-num":t.cdinfo.songnum,"fav-num":t.favNum,songlist:t.songlist,dissid:t.currentList.dissid}}):t._e()},staticRenderFns:[]},f=i("VU/8")(h,g,!1,null,null,null);s.default=f.exports}});
//# sourceMappingURL=4.6eb7e24a4ed7ae005809.js.map