webpackJsonp([4],{hDdV:function(t,e){},mIiV:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Gu7T"),n=s.n(i),a=s("Dd8w"),o=s.n(a),r=s("W7Wb"),c=s("NYxO"),l=s("hU7x"),d=s.n(l),g={components:{detailPage:r.a},data:function(){return{list:[],sin:0,ein:29,loading:!0}},computed:o()({},Object(c.e)("config",["server"]),Object(c.e)("songSheet",["category","currentList"]),Object(c.c)("songSheet",["categoryHot"]),Object(c.c)("config",{server:"currentServer"})),methods:o()({},Object(c.d)("songSheet",["changeCategory","saveCurrentList"]),{requestSongSheet:function(t){var e=this;this.loading=!0,d()(this.server.url+"/songSheet?categoryId="+this.category.categoryId+"&sin="+this.sin+"&ein="+this.ein,{name:"getPlaylist"},function(s,i){s?console.log("Get SongSheet Failed"):t&&t(i),e.loading=!1})},loadMore:function(){var t=this;this.requestSongSheet(function(e){var s;(s=t.list).push.apply(s,n()(e.data.list)),t.sin+=30,t.ein+=30})},showSongList:function(t){var e=this;this.saveCurrentList(t),this.$nextTick(function(){e.$router.push("/songSheet/"+t.dissid)})}}),created:function(){var t=this;this.requestSongSheet(function(e){t.list=e.data.list,t.sin+=30,t.ein+=30})},watch:{"category.categoryId":function(){var t=this;this.sin=0,this.ein=29,this.requestSongSheet(function(e){t.list=e.data.list,t.sin+=30,t.ein+=30})}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("detail-page",{attrs:{title:"歌单"}},[s("div",{staticClass:"content"},[s("div",{staticClass:"category-tab"},[s("router-link",{staticClass:"category-selected",attrs:{to:"/songSheet/category"}},[s("span",{domProps:{innerHTML:t._s(t.category.categoryName)}}),t._v(" "),s("span",{staticClass:"right-icon"})]),t._v(" "),t.categoryHot.length?s("div",{staticClass:"category-hot"},t._l(t.categoryHot,function(e,i){return s("v-touch",{key:"ctgyh"+i,staticClass:"hot-item",style:{borderLeft:0!==i?"0.5px solid #ddd":""},attrs:{tag:"span"},on:{tap:function(s){t.changeCategory(e)}}},[t._v("\r\n          "+t._s(e.categoryName)+"\r\n        ")])})):t._e()],1),t._v(" "),t.list.length?s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"songsheet-list",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"300"}},[t._l(t.list,function(e){return s("div",{key:"ssdissid"+e.dissid,staticClass:"songsheet-item"},[s("v-touch",{on:{tap:function(s){s.preventDefault(),t.showSongList(e)}}},[s("div",{staticClass:"item-cover"},[s("span",{staticClass:"badgeNum"},[t._v(t._s(e.listennum>=1e5?Math.floor(e.listennum/1e4)+"万":e.listennum))]),t._v(" "),s("span",{staticClass:"badgeCreator"},[t._v(t._s(e.creator.name))]),t._v(" "),s("div",{directives:[{name:"src",rawName:"v-src:before-load",value:e.imgurl,expression:"item.imgurl",arg:"before-load"}],staticClass:"item-img"})]),t._v(" "),s("p",{staticClass:"title"},[t._v(t._s(e.dissname))])])],1)}),t._v(" "),t.loading?s("div",{staticClass:"loading-placeholder"},[s("span",{staticClass:"icon"})]):t._e()],2):s("div",{staticClass:"loading-placeholder"},[s("span",{staticClass:"icon"})])])])},staticRenderFns:[]};var h=s("VU/8")(g,u,!1,function(t){s("hDdV")},"data-v-418c3cac",null);e.default=h.exports}});
//# sourceMappingURL=4.44f7fa02a506eef04870.js.map